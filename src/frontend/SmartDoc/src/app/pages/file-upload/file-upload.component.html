<div class="upload-container">
  <div class="card">
    <header class="card-header">
      <button class="btn-icon" routerLink="/">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
      </button>
      <h2>SmartDoc Sorter</h2>
      <p>Upload your document for AI classification</p>
    </header>

    <div
      *ngIf="!previewUrl"
      class="drop-zone"
      [class.drag-over]="isDragOver"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
      (click)="fileInput.click()"
    >
      <input
        #fileInput
        type="file"
        (change)="onFileSelected($event)"
        hidden
        accept=".zip,application/zip,application/x-zip-compressed"
      />

      <div class="icon-wrapper">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
          />
        </svg>
      </div>

      <h3>Drag & Drop or Click to Upload</h3>
      <p class="hint">Supports: .zip files</p>
    </div>

    <div *ngIf="previewUrl" class="preview-zone">
      <div class="image-wrapper">
        <img [src]="previewUrl" alt="Document Preview" />
        <button class="btn-remove" (click)="reset()">Ã—</button>
      </div>

      <div class="file-info">
        <span>{{ selectedFile?.name }}</span>
        <span class="size">{{ (selectedFile?.size || 0) / 1024 | number : '1.0-2' }} KB</span>
      </div>

      <button class="btn-primary" (click)="upload()">Analyze Document</button>
    </div>
  </div>
</div>
